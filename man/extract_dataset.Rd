% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mnist_to_dataset.R
\name{extract_dataset}
\alias{extract_dataset}
\title{Extraire images et/ou labels d'un tf_dataset}
\usage{
extract_dataset(
  dataset,
  what = c("both", "x", "y"),
  labels_format = c("onehot", "integer"),
  max_samples = NULL
)
}
\arguments{
\item{dataset}{Un tf_dataset (provenant de mnist_to_dataset())}

\item{what}{Chaîne de caractères indiquant ce qu'il faut extraire :
"both" (défaut), "x" (images seulement), ou "y" (labels seulement)}

\item{labels_format}{Format des labels : "onehot" (défaut) ou "integer" (0-9)}

\item{max_samples}{Nombre maximum d'échantillons à extraire.
NULL pour tout extraire (défaut NULL).}
}
\value{
Selon le paramètre \code{what} :
\describe{
\item{both}{Liste avec \code{x} (images) et \code{y} (labels)}
\item{x}{Array des images uniquement}
\item{y}{Array ou vecteur des labels uniquement}
}
}
\description{
Convertit un tf_dataset en arrays R pour inspection ou évaluation.
Utile pour récupérer les labels du test set ou visualiser des images.
}
\examples{
\dontrun{
library(keras3)

# Créer les datasets
datasets <- mnist_to_dataset(
  image_size = c(96, 96),
  to_rgb = TRUE,
  subsample = list(train = 1000, test = 200)
)

# Extraire images et labels (défaut : one-hot)
test_data <- extract_dataset(datasets$test)
dim(test_data$x)  # 200 96 96 3
dim(test_data$y)  # 200 10

# Extraire seulement les images
x_test <- extract_dataset(datasets$test, what = "x")

# Extraire seulement les labels en format entier (0-9)
y_test <- extract_dataset(datasets$test, what = "y", labels_format = "integer")

# Extraire un échantillon pour inspection rapide
sample <- extract_dataset(datasets$train, max_samples = 100)

# Visualiser une image
img <- sample$x[1, , , 1]
label <- which.max(sample$y[1, ]) - 1
image(t(img[96:1, ]), col = gray.colors(255),
      axes = FALSE, main = paste("Chiffre:", label))
}
}
